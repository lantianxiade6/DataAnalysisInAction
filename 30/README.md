## 关联规则挖掘

### 购物篮分析
- 从消费者交易记录中发掘商品与商品之间的关联关系，进而通过商品捆绑销售或者相关推荐的方式带来更多的销售量  

### Apriori算法的缺点
1. 可能产生大量的候选集。因为采用排列组合的方式，把可能的项集都组合出来了。
2. 每次计算都需要重新扫描数据集，来计算每个项集的支持度。

### Apriori算法的改进：FP-Growth算法
1. 创建一棵FP树来存储频繁项集。在创建前对不满足最小支持度的项进行进行删除，减少存储空间。
2. 整个生成过程只遍历数据集2次，大大减少了计算量。

### FP-Growth的原理
1. 创建项头表，为FP树的构建及频繁项集挖掘提供索引。这一步的流程是先扫描一遍数据集，对于满足最小支持度的单个项（K=1项集）按照支持度从高到低进行排序，这个过程中删除了不满足最小支持度的项。项头表包括了项目、支持度，以及该项在FP树种的链表。（初始的时候链表为空）  

项|支持度|链表
--|:--:|--:
尿布|5|
牛奶|4|
面包|4|
啤酒|3|

2. 构建FP树
FP树的根节点记为NULL节点。整个流程是需要再次扫描数据集，对于每一条数据，按照支持度从高到低的顺序进行创建节点（也就是第一步中项头表的排序结果），节点如果存在就将计数count+1，如果不存在就进行创建。同时在创建的过程中，需要更新项头表的链表。
3. 上两步就得到了一个存储频繁项集的FP树，以及一个项头表。可以通过项头表来挖掘出每个频繁项集。   
  - 条件模式基：以要挖掘的节点为叶子节点，自底向上求出FP子树，然后将FP子树的祖先节点设置为叶子节点之和。条件模式基不包括要挖掘的节点，而且祖先节点如果小于最小支持度就会被剪枝

### Apriori算法的其他改进算法
- CBA算法
- GSP算法

![](关联规则挖掘.png)