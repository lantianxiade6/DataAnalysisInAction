## 搞懂Google的PageRank算法

### 早期搜索引擎的问题
1. 返回结果质量不高：搜索结果不考虑网页质量，而是通过时间顺序进行检索
2. 容易被人钻空子：搜索引擎是基于检索词进行检索的，页面中检索词出现的频次越高，匹配度越高，这样就出现网页作弊的情况。有些网页为了增加搜索引擎的排名，故意增加某个检索词的频率。

### 论文影响力因子
当一篇论文被引用的次数越多，证明这篇论文的影响力越大。

### PageRank的简化模型
![](捕获.png)
[代码](demo.py)
- 出链：链接出去的链接。
- 入链：链接进来的链接。比如图中A有2个入链，3个出链。
- 一个网友的影响力=所有入链集合的页面的加权影响力之和。

![](捕获2.png)  
- 其中，u为待评估的页面，Bu为页面u的入链集合。针对入链集合中的任意页面v，它能给u带来的影响力是其自身的影响力PR(v)除以v页面的出链数量，即页面V把影响力PR(v)平均分配给了它的出链。这样统计所有能给u带来链接的页面v，得到的总和就是网页u的影响力，即PR(u)。  
- 出链会给被链接的页面赋予影响力，当我们统计了一个网页链出去的数量，也就是统计了这个网页的跳转概率。 
- A有三条出链，分别链接到B、C、D上，跳转概率均为1/3；B有两条出链，分别链接到A、D，跳转概率均为1/2。则可以得到A-D四个网页的转移矩阵M(如下图所示)  
![](PageRank(上).png)  
[代码](demo.py)

### 两个问题
1. 等级泄露（Rank Leak)  
如果一个网页没有出链，就像一个黑洞一样，吸收了其他的网页的影响力而不释放，最终会导致其他网页的PR值为0
![](捕获3.png)  
[代码](demo1.py)
2. 等级沉没（Rank Sink)  
如果一个网页只有出链，没有入链，计算的过程迭代下来，会导致这个网页的PR值为0  
![](捕获4.png) 
[代码](demo2.py)

### 改善模型：PageRank的随机浏览模型